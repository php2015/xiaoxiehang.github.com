---
layout: post
title: javascript 基本类型和引用类型的值的区别
category: javascript
---

>参考：《javascript高级程序设计》--基本类型和引用类型的值

**基本类型值**指的是简单的数据段，**引用类型值指**的是可能由多个值构成的对象。在将一个值赋给变量时，解析器必须确定这个值是基础类型还是引用类型。
(*基本数据类型包括：Undefined Null Boolean Number String *)

**基本数据类型**是按值访问的，因为可以操作保存在变量中的实际的值。

**引用类型**的值是保存在内存中的对象。在操作对象时，实际是在操作对象的引用而不是实际的对象，所以，引用类型的值是按引用访问的。（javascript 不允许直接访问内存中的位置,也就是说不能直接操作对象的内存空间。）

<br>
##1.动态的属性
定义基本类型值和引用类型值的方式是类似的：创建一个变量并为该变量赋值。对于引用类型的值可以为其添加属性和方法，也可以修改其属性、方法：

    //创建了一个对象并保存在变量 person 中，然后为该对象添加了一个name 属性，并赋值一个字符串，最后输出该属性的值。
    //如果对象不被销毁或者这个属性不被删除，则这个属性将一直存在
    var person = new object();
    person.name = 'xiaojj';
    console.log(person.name); // 'xiaojj'
    
    //但是不能给基本类型的值添加属性，尽管不会导致任何错误。
    //为name 添加了一个 age 属性，并赋值25，但是在下一行访问这个属性时，发现该属性为 undefined 。这说明只能给引用类型值动态的添加属性。
    var name = 'xiaoxiehang';
    name.age = 25;
    console.log(name.age); //undefined
<br>
##2.复制变量值
除了保存的方式不同，在从另一个变量复制基本类型值和引用类型值时，也存在不同。

从一个变量向另一个变量复制基本类型的值，会在变量对象上创建一个新值，然后把该值复制给新变量的位置上。

    var num1 = 5;
    var num2 = num1; 
    //num2 的值与num1 的值是完全独立的，num2 只是num1 的一个副本。这两个变量可以参与任何操作而不会相互影响
<br>
当一个变量向另一个变量复制引用类型的值时，同样也会将存储在变量对象中的值复制一份到新变量分配的空间中，但是这个值的副本其实是一个指针，而这个指针指向存储在堆中的一个对象。复制操作结束后，两个变量实际是引用同一个对象。因此，改变其中一个变量，就会影响到另外一个变量。

    var obj1 = new Object();
    var obj2 = obj1;
    obj1.name = 'xiaoxiehang';
    console.log(obj2.name);
    //obj1 和 obj2 都指向同一个对象，为 obj1 添加 name 属性后，可以通过 obj2 来访问。
    
<br>
##3.传递参数
<br>
##4.检测类型
