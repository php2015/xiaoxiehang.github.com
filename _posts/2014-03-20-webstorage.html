---
layout: post
title: webstorage
category: html
---

<h2>在客户端存储数据</h2>
<dl>
    <dt>HTML5提供了两种在客户端存储数据的新方法：</dt>
    <dd>localStorage 没有时间限制的数据存储</dd>
    <dd>sessionStorage 针对一个session的数据存储</dd>
</dl>
<p>之前，这些都是有cookie完成的。但是cookie不适合大量数据的存储，因为它们会由每个服务器的请求来传递，这使得cookie速度很慢而且效率不高。</p>
<p>在html5中，数据不是有服务器请求来传递的，而是只有在请求时使用数据。它使在不影响网站性能的情况下存储大量数据成为可能</p>
<p>对于不同的网站，数据存储于不同的区域，并且一个网站只能访问其自身的数据。</p>
<p>HTML5中使用javascript来存储和防卫数据</p>

<h2>localStorage 方法实例</h2>
<   p>localStorage 存储数据没有时间限制</p>
<h3>创建和访问 localStorage</h3>
<pre>
    localStorage.lastname="xiaoxiehang";
    document.write(localStorage.lastname);
</pre>

<h3>对用户访问页面的次数计数</h3>
<pre>
if(localStorage.pagecount){
    localStorage.pagecount=Number(localStorage.pagecount)+1
}else{
    localStorage.pagecount=1;
}
document.write(localstorage.pagecount);
</pre>
<script>
    if(localStorage.pagecount){
        localStorage.pagecount=Number(localStorage.pagecount)+1;
    }else{
        localStorage.pagecount=1;
    }
    document.write(localstorage.pagecount);
</script>

<h2>sessionStorage 方法</h2>
<p>sessionStorage 方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。</p>
<h3>创建并访问一个 sessionStorage:</h3>
<pre>
    sessionStorage.lastname="xiaoxiehang";
    document.write(sessionStorage.lastname);
</pre>
<h3>用户在访问当前session中访问页面的次数计数</h3>
<pre>
if(sessionStorage.pagecount){
    sessionStorage.pagecount=Number(sessionStorage.pagecount)+1;
}else{
    sessionStorage.pagecount+1;
}
document.write(sessionStorage.pagecount+'time(s) this sessionStorage');
</pre>
