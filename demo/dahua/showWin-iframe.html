<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>弹窗</title>
	<link rel="stylesheet" href="css/common/common.css">
	<link rel="stylesheet" href="css/HR/style.css">
	<style type="text/css">
	.win{z-index:99;position:fixed;width:500px;border:1px solid #eee;box-shadow:5px 5px 10px #000;_position:absolute;}
	.win-hd{position:relative;padding:10px;background:#eee;background:-webkit-gradient(linear, left top, left bottom,color-stop(0,#fff),color-stop(1, #ccc));}
		.win-hd h3{font-weight:400;font-size:16px;text-shadow:1px 1px 1px #fff;}
		.win-close{cursor:pointer;position:absolute;right:10px;top:5px;}
	.win-bd{height:200px;background:#f2f2f2;}
	.win-ft{padding:10px;text-align:center;background:#fff;}
		.win-ft a{margin-right:10px;}
	.win-mask{z-index:98;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);}
	</style>
</head>
<body>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
1<br>
<p><a href="javascript:;" class='showWin1'>点击查看DEMO1</a></p>

<p><a href="javascript:;" class='showWin2'>点击查看DEMO2</a></p>

<script src="js/lib/jquery.js"></script>
<script src="js/plugin/showWin.js"></script>
<script>
$('.showWin1').click(function(){
    var content='<div class="form-list"><ul>';
    content+='<li><label class="form-tit">部门名称</label><input class="txt" type="text" value=""><label class="form-tit">上级部门</label><input class="txt" type="text" value=""></li>';
    content+='<li><label class="form-tit">修改时间</label><input class="txt" type="text" value=""><label class="form-tit">当前状态</label><input class="txt" type="text" value=""></li>';
    content+='<li><label class="form-tit">部门职责</label><textarea class="txt"></textarea></li>';
    content+='</ul></div>';
    $.showWin({
        obj:'win',
        title:'提示',
        content:content,
        drag:1,
        button:[{
            class_name:'submit-btn',
            callback:function(){
                alert('111');
            }
        },{
            class_name:'submit-btn'
        }],
        width:'500px'
    });
})
$('.showWin2').click(function(){
    var content='<iframe src="尹亚涛--规范_组织架构_维护.html" frameborder="0" width="100%" height="100%" scrolling="auto"></iframe>';
    $.showWin({
        obj:'win',
        title:'提示',
        content:content,
        drag:1,
        button:0,
        width:'800px',
        height:'200px'
    });
})

// function IFrameResize(){
//     var obj = parent.document.getElementById("testIframe"); //取得父页面IFrame对象
//     obj.height = this.document.body.scrollHeight; //调整父页面中IFrame的高度为此页面的高度
//     console.log(obj.height);
// }
// window.onload=function(){
//     window.setInterval(function(){IFrameResize();},100);
    
// }

// $.AutoiFrame = function(_o){
//     var _o_=new Function("return "+_o)();
//     if($.support.msie){
//         $('#'+_o).ready(function(){
//             $('#'+_o).height(_o_.document.body.scrollHeight);
//             console.log($('1111#'+_o).height());
//         });
//     }else{
//         $('#'+_o).load(function(){
//             $('#'+_o).height(_o_.document.body.scrollHeight);
//             console.log($('2222#'+_o).height());
//         });
//     }
// }
// $(function(){
//     window.setInterval(function(){$.AutoiFrame('testIframe')},100);
// });

//高度自适应
// var iframe = document.getElementById("testIframe");
// var iframeHeight = function() {
//     var hash = window.location.hash.slice(1), h;
//     if (hash && /height=/.test(hash)) {
//         h = hash.replace("height=", "");
//         iframe.height = h;
//     }
//     setTimeout(iframeHeight, 200);

//     console.log(h);
// };
// iframeHeight();


$(document).ready(function()
    {
        // Set specific variable to represent all iframe tags.
        var iFrames = document.getElementsByTagName('iframe');

        // Resize heights.
        function iResize()
        {
            // Iterate through all iframes in the page.
            for (var i = 0, j = iFrames.length; i < j; i++)
            {
                // Set inline style to equal the body height of the iframed content.
                iFrames[i].style.height = iFrames[i].contentWindow.document.body.offsetHeight + 'px';
            }
        }

        // Check if browser is Safari or Opera.
        if ($.browser.safari || $.browser.opera)
        {
            // Start timer when loaded.
            $('iframe').load(function()
                {
                    setTimeout(iResize, 0);
                }
            );

            // Safari and Opera need a kick-start.
            for (var i = 0, j = iFrames.length; i < j; i++)
            {
                var iSource = iFrames[i].src;
                iFrames[i].src = '';
                iFrames[i].src = iSource;
            }
        }
        else
        {
            // For other good browsers.
            $('iframe').load(function()
                {
                    // Set inline style to equal the body height of the iframed content.
                    this.style.height = this.contentWindow.document.body.offsetHeight + 'px';
                }
            );
        }
    }
);
</script>
</body>
</html>